{"version":3,"file":"commonHelpers.js","sources":["../src/js/constants.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const CONSTANTS = {\n  API_KEY: '42384910-73277182c896d015737fb8e33',\n  API_URL: 'https://pixabay.com/api/',\n  PHOTO_ORIENTATION: 'horizontal',\n  IMAGE_TYPE: 'photo',\n  SAFESEARCH: true,\n  ERROR_MESSAGES: {\n    EMPTY_INPUT: 'Input must not be empty. Please try again!',\n    IMAGES_NOT_FOUND:\n      'Sorry, there are no images matching your search query. Please try again!',\n    RESOURSE_ERROR: 'Requested resource is not found!',\n  },\n  POP_UP_CONFIG: {\n    message: null,\n    iconUrl: '/img/error-icon.png',\n    messageColor: 'white',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n  },\n};\n","import axios from 'axios';\nimport { CONSTANTS } from './constants.js';\n\nexport async function urlCreator(searchedPhoto) {\n  const getUrl = await axios.get(CONSTANTS.API_URL, {\n      params: {\n        key: CONSTANTS.API_KEY,\n        q: searchedPhoto,\n        image_type: CONSTANTS.IMAGE_TYPE,\n        orientation: CONSTANTS.PHOTO_ORIENTATION,\n        safesearch: CONSTANTS.SAFESEARCH,\n      },\n    })\n  return getUrl;\n}\n// export const getUrl = axios.get(CONSTANTS.API_URL, {\n//   params: {\n//     key: CONSTANTS.API_KEY,\n//     q: null,\n//     image_type: CONSTANTS.IMAGE_TYPE,\n//     orientation: CONSTANTS.PHOTO_ORIENTATION,\n//     safesearch: CONSTANTS.SAFESEARCH,\n//   },\n// });\n","export function htmlMarkupCreator(galleryItems) {\n  return galleryItems\n    .map(item => {\n      const {\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = item;\n      return `<li>\n      <div class=\"gallery-photo\">\n        <a href=\"${largeImageURL}\"\n          ><img src=\"${webformatURL}\" alt=\"${tags}\"\n        /></a>\n      </div>\n      <div class=\"text-wrapper\">\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">likes</p>\n          <p>${likes}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Views</p>\n          <p>${views}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Comments</p>\n          <p>${comments}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Downloads</p>\n          <p>${downloads}</p>\n        </div>\n      </div>\n    </li>`;\n    })\n    .join('');\n}\n","import iziToast from 'izitoast';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport { CONSTANTS } from './js/constants';\r\nimport { urlCreator } from './js/pixabay-api.js';\r\nimport { htmlMarkupCreator } from './js/render-functions.js';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst form = document.querySelector('.form');\r\nconst input = document.querySelector('.input');\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.loader');\r\n\r\n\r\nform.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  const galleryLightBox = new SimpleLightbox('.gallery-photo a');\r\n  gallery.innerHTML = '';\r\n\r\n  if (!input.value) {\r\n    showErrorPopUp(CONSTANTS.ERROR_MESSAGES.EMPTY_INPUT);\r\n  } else {\r\n    loader.classList.remove('hidden');\r\n\r\n    urlCreator(input.value)\r\n      .then(({data : {hits}}) => {\r\n      if (!hits.length) {\r\n        showErrorPopUp(CONSTANTS.ERROR_MESSAGES.IMAGES_NOT_FOUND);\r\n      } else {\r\n        gallery.insertAdjacentHTML('beforeend', htmlMarkupCreator(hits));\r\n        galleryLightBox.refresh();\r\n      }\r\n      loader.classList.add('hidden');\r\n    }).catch(error => {\r\n      console.debug(error);\r\n      showErrorPopUp(CONSTANTS.ERROR_MESSAGES.RESOURSE_ERROR);\r\n    })\r\n  }\r\n});\r\n\r\nfunction showErrorPopUp(message) {\r\n  iziToast.show({\r\n    ...CONSTANTS.POP_UP_CONFIG,\r\n    message,\r\n  });\r\n}\r\n"],"names":["CONSTANTS","urlCreator","searchedPhoto","axios","htmlMarkupCreator","galleryItems","item","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","input","gallery","loader","e","galleryLightBox","SimpleLightbox","hits","showErrorPopUp","error","message","iziToast"],"mappings":"owBAAO,MAAMA,EAAY,CACvB,QAAS,qCACT,QAAS,2BACT,kBAAmB,aACnB,WAAY,QACZ,WAAY,GACZ,eAAgB,CACd,YAAa,6CACb,iBACE,2EACF,eAAgB,kCACjB,EACD,cAAe,CACb,QAAS,KACT,QAAS,sBACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UACX,CACH,EChBO,eAAeC,EAAWC,EAAe,CAU9C,OATe,MAAMC,EAAM,IAAIH,EAAU,QAAS,CAC9C,OAAQ,CACN,IAAKA,EAAU,QACf,EAAGE,EACH,WAAYF,EAAU,WACtB,YAAaA,EAAU,kBACvB,WAAYA,EAAU,UACvB,CACP,CAAK,CAEL,CCdO,SAASI,EAAkBC,EAAc,CAC9C,OAAOA,EACJ,IAAIC,GAAQ,CACX,KAAM,CACJ,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,mBAEMC,CAAa;AAAA,uBACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAMlCC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA,UAIxB,CAAK,EACA,KAAK,EAAE,CACZ,CC/BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/CH,EAAK,iBAAiB,SAAUI,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAkB,IAAIC,EAAe,kBAAkB,EAC7DJ,EAAQ,UAAY,GAEfD,EAAM,OAGTE,EAAO,UAAU,OAAO,QAAQ,EAEhChB,EAAWc,EAAM,KAAK,EACnB,KAAK,CAAC,CAAC,KAAO,CAAC,KAAAM,CAAI,CAAC,IAAM,CACtBA,EAAK,QAGRL,EAAQ,mBAAmB,YAAaZ,EAAkBiB,CAAI,CAAC,EAC/DF,EAAgB,QAAO,GAHvBG,EAAetB,EAAU,eAAe,gBAAgB,EAK1DiB,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,EAAE,MAAMM,GAAS,CAChB,QAAQ,MAAMA,CAAK,EACnBD,EAAetB,EAAU,eAAe,cAAc,CAC5D,CAAK,GAhBDsB,EAAetB,EAAU,eAAe,WAAW,CAkBvD,CAAC,EAED,SAASsB,EAAeE,EAAS,CAC/BC,EAAS,KAAK,CACZ,GAAGzB,EAAU,cACb,QAAAwB,CACJ,CAAG,CACH"}